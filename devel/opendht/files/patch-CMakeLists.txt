--- CMakeLists.txt.orig	2023-04-08 04:39:13 UTC
+++ CMakeLists.txt
@@ -61,7 +61,7 @@ if (NOT MSVC)
     pkg_search_module (Nettle REQUIRED IMPORTED_TARGET nettle)
     check_include_file_cxx(msgpack.hpp HAVE_MSGPACKCXX)
     if (NOT HAVE_MSGPACKCXX)
-        find_package (msgpack REQUIRED CONFIG)
+        find_package (msgpack-cxx REQUIRED CONFIG)
     endif()
     if (OPENDHT_TOOLS)
         find_package (Readline 6 REQUIRED)
@@ -94,8 +94,8 @@ if (NOT MSVC)
         endif()
         if (OPENDHT_PROXY_OPENSSL)
             # https://cmake.org/cmake/help/latest/module/FindOpenSSL.html
-            pkg_search_module(OPENSSL REQUIRED IMPORTED_TARGET openssl)
-            if (OPENSSL_FOUND)
+            #pkg_search_module(OPENSSL REQUIRED IMPORTED_TARGET openssl)
+            if (TRUE OR OPENSSL_FOUND)
                 message(STATUS "Found OpenSSL ${OPENSSL_VERSION} ${OPENSSL_INCLUDE_DIRS}")
                 set(openssl_lib ", openssl")
             else ()
@@ -359,7 +359,7 @@ if (Jsoncpp_FOUND)
     target_link_libraries(opendht PUBLIC PkgConfig::Jsoncpp)
 endif()
 if (OPENDHT_PROXY_OPENSSL)
-    target_link_libraries(opendht PUBLIC PkgConfig::OPENSSL)
+    target_link_libraries(opendht PRIVATE ssl)
 endif()
 if (APPLE)
     target_link_libraries(opendht PRIVATE SYSTEM "-framework CoreFoundation" "-framework Security")
