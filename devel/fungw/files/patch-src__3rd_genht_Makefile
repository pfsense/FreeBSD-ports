--- src_3rd/genht/Makefile.orig	2021-07-19 16:13:28 UTC
+++ src_3rd/genht/Makefile
@@ -17,6 +17,7 @@ BIN=mainsi
 OBJS=htss.o htsp.o htsi.o htip.o htpp.o htpi.o hash.o siphash24.o
 LIBSO=libgenht.so.$(VER)
 LIBSO1=libgenht.so.$(VER_MAJOR)
+LIBSO2=libgenht.so
 LIBA=libgenht.a
 
 all: version.h $(BIN) $(OBJS) $(LIBA) $(LIBSO)
@@ -34,7 +35,7 @@ mainsi: mainsi.o htsi.o
 	$(CC) -o $@ mainsi.o htsi.o $(LDFLAGS)
 
 $(LIBSO): $(OBJS)
-	$(CC) $(LDFLAGS) -shared -dynamic -rdynamic -o $@ $(OBJS)
+	$(CC) $(LDFLAGS) -shared -dynamic -rdynamic -Wl,-soname,$(LIBSO1) -o $@ $(OBJS)
 
 $(LIBA): $(OBJS)
 	ar rvu $@ $(OBJS)
@@ -78,14 +79,16 @@ uninstall:
 	rm $(LIBDIR)/$(LIBSO) $(LIBDIR)/$(LIBA) $(LIBDIR)/$(LIBSO1)
 
 install:
-	make install_ CP="cp"
+	$(MAKE) install_ CP="cp"
 	-@rm $(LIBDIR)/$(LIBSO1) 2>/dev/null
 	ln -s $(LIBSO) $(LIBDIR)/$(LIBSO1)
+	ln -s $(LIBSO1) $(LIBDIR)/$(LIBSO2)
 
 linstall:
-	make install_ CP="ln -s"
+	$(MAKE) install_ CP="ln -s"
 	-@rm $(LIBDIR)/$(LIBSO1) 2>/dev/null
 	ln -s $(LIBSO) $(LIBDIR)/$(LIBSO1)
+	ln -s $(LIBSO1) $(LIBDIR)/$(LIBSO2)
 
 test: mainsi
 	@./mainsi > mainsi.out
