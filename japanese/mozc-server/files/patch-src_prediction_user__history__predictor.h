--- src/prediction/user_history_predictor.h.orig	2019-03-04 18:35:55 UTC
+++ src/prediction/user_history_predictor.h
@@ -61,11 +61,15 @@ class Segments;
 class UserHistoryPredictorSyncer;
 
 // Added serialization method for UserHistory.
-class UserHistoryStorage : public mozc::user_history_predictor::UserHistory {
+class UserHistoryStorage {
  public:
   explicit UserHistoryStorage(const string &filename);
   ~UserHistoryStorage();
 
+  // Instance of base class generated by Protocol Buffers compiler.
+  // Regular inheritance strongly discouraged.
+  mozc::user_history_predictor::UserHistory user_history_base;
+
   // Loads from encrypted file.
   bool Load();
 
