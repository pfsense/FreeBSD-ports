# $FreeBSD$

PORTNAME=	iosevka
DISTVERSIONPREFIX=	v
DISTVERSION=	2.3.3
CATEGORIES=	x11-fonts
MASTER_SITES=	https://github.com/be5invis/Iosevka/releases/download/${DISTVERSIONFULL}/
DISTFILES=	01-${PORTNAME}-${DISTVERSION}${EXTRACT_SUFX} \
		02-${PORTNAME}-term-${DISTVERSION}${EXTRACT_SUFX} \
		03-${PORTNAME}-type-${DISTVERSION}${EXTRACT_SUFX} \
		04-${PORTNAME}-cc-${DISTVERSION}${EXTRACT_SUFX} \
		05-${PORTNAME}-slab-${DISTVERSION}${EXTRACT_SUFX} \
		06-${PORTNAME}-term-slab-${DISTVERSION}${EXTRACT_SUFX} \
		07-${PORTNAME}-type-slab-${DISTVERSION}${EXTRACT_SUFX} \
		08-${PORTNAME}-cc-slab-${DISTVERSION}${EXTRACT_SUFX}

MAINTAINER=	0mp@FreeBSD.org
COMMENT=	Slender monospace sans-serif and slab-serif typeface for programming

# The license file is not downloaded.
LICENSE=	OFL11

USES=		fonts zip

FONTNAME=	Iosevka

NO_ARCH=	yes
NO_BUILD=	yes
NO_WRKSUBDIR=	yes

OPTIONS_DEFINE=		ANDALEMONOSTYLE ANONYMOUSPROSTYLE CONSOLASSTYLE MENLOSTYLE \
			FIRAMONOSTYLE LIBERATIONMONOSTYLE MONACOSTYLE PRAGMATAPROSTYLE \
			SOURCECODEPROSTYLE ENVYCODERSTYLE XWINDOWSFIXEDSTYLE \
			EXPERIMENTAL
OPTIONS_DEFAULT=	ANDALEMONOSTYLE ANONYMOUSPROSTYLE CONSOLASSTYLE MENLOSTYLE \
			FIRAMONOSTYLE LIBERATIONMONOSTYLE MONACOSTYLE PRAGMATAPROSTYLE \
			SOURCECODEPROSTYLE ENVYCODERSTYLE XWINDOWSFIXEDSTYLE \
			EXPERIMENTAL
OPTIONS_SUB=	yes

ANDALEMONOSTYLE_DESC=		Extra variants similar to Andale Mono
ANDALEMONOSTYLE_DISTFILES=	${PORTNAME}-ss01-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss01-${DISTVERSION}${EXTRACT_SUFX}
ANONYMOUSPROSTYLE_DESC=		Extra variants similar to Anonymous Pro
ANONYMOUSPROSTYLE_DISTFILES=	${PORTNAME}-ss02-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss02-${DISTVERSION}${EXTRACT_SUFX}
CONSOLASSTYLE_DESC=		Extra variants similar to Consolas
CONSOLASSTYLE_DISTFILES=	${PORTNAME}-ss03-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss03-${DISTVERSION}${EXTRACT_SUFX}
MENLOSTYLE_DESC=		Extra variants similar to Menlo
MENLOSTYLE_DISTFILES=		${PORTNAME}-ss04-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss04-${DISTVERSION}${EXTRACT_SUFX}
FIRAMONOSTYLE_DESC=		Extra variants similar to Fira Mono
FIRAMONOSTYLE_DISTFILES=	${PORTNAME}-ss05-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss05-${DISTVERSION}${EXTRACT_SUFX}
LIBERATIONMONOSTYLE_DESC=	Extra variants similar to Liberation Mono
LIBERATIONMONOSTYLE_DISTFILES=	${PORTNAME}-ss06-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss06-${DISTVERSION}${EXTRACT_SUFX}
MONACOSTYLE_DESC=		Extra variants similar to Monaco
MONACOSTYLE_DISTFILES=		${PORTNAME}-ss07-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss07-${DISTVERSION}${EXTRACT_SUFX}
PRAGMATAPROSTYLE_DESC=		Extra variants similar to Pragmata Pro
PRAGMATAPROSTYLE_DISTFILES=	${PORTNAME}-ss08-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss08-${DISTVERSION}${EXTRACT_SUFX}
SOURCECODEPROSTYLE_DESC=	Extra variants similar to Source Code Pro
SOURCECODEPROSTYLE_DISTFILES=	${PORTNAME}-ss09-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss09-${DISTVERSION}${EXTRACT_SUFX}
ENVYCODERSTYLE_DESC=		Extra variants similar to Envy Code R
ENVYCODERSTYLE_DISTFILES=	${PORTNAME}-ss10-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss10-${DISTVERSION}${EXTRACT_SUFX}
XWINDOWSFIXEDSTYLE_DESC=	Extra variants similar to X Windows Fixed
XWINDOWSFIXEDSTYLE_DISTFILES=	${PORTNAME}-ss11-${DISTVERSION}${EXTRACT_SUFX} \
				${PORTNAME}-term-ss11-${DISTVERSION}${EXTRACT_SUFX}
EXPERIMENTAL_DESC=		Experimental variants (Aile, Etoile, and Expanded)
EXPERIMENTAL_DISTFILES=		experimental-${PORTNAME}-aile-${DISTVERSION}${EXTRACT_SUFX} \
				experimental-${PORTNAME}-etoile-${DISTVERSION}${EXTRACT_SUFX} \
				experimental-${PORTNAME}-extended-${DISTVERSION}${EXTRACT_SUFX} \
				experimental-${PORTNAME}-slab-extended-${DISTVERSION}${EXTRACT_SUFX}

do-install:
	@${MKDIR} ${STAGEDIR}${FONTSDIR}
	${INSTALL_DATA} ${WRKSRC}/ttf/*.ttf ${STAGEDIR}${FONTSDIR}

regenerate-plist: stage
	${MAKE} makeplist 2>/dev/null | \
		${AWK} 'NR > 1 {print}' > pkg-plist.tmp
	${SED} -E -e 's|(.*ss01.*)|%%ANDALEMONOSTYLE%%\1|g' \
		-e 's|(.*ss02.*)|%%ANONYMOUSPROSTYLE%%\1|g' \
		-e 's|(.*ss03.*)|%%CONSOLASSTYLE%%\1|g' \
		-e 's|(.*ss04.*)|%%MENLOSTYLE%%\1|g' \
		-e 's|(.*ss05.*)|%%FIRAMONOSTYLE%%\1|g' \
		-e 's|(.*ss06.*)|%%LIBERATIONMONOSTYLE%%\1|g' \
		-e 's|(.*ss07.*)|%%MONACOSTYLE%%\1|g' \
		-e 's|(.*ss08.*)|%%PRAGMATAPROSTYLE%%\1|g' \
		-e 's|(.*ss09.*)|%%SOURCECODEPROSTYLE%%\1|g' \
		-e 's|(.*ss10.*)|%%ENVYCODERSTYLE%%\1|g' \
		-e 's|(.*ss11.*)|%%XWINDOWSFIXEDSTYLE%%\1|g' \
		-e 's|(.*aile.*)|%%EXPERIMENTAL%%\1|g' \
		-e 's|(.*etoile.*)|%%EXPERIMENTAL%%\1|g' \
		-e 's|(.*extended.*)|%%EXPERIMENTAL%%\1|g' \
		pkg-plist.tmp > pkg-plist

.include <bsd.port.mk>
