# $FreeBSD$

PORTNAME=	magnum
DISTVERSIONPREFIX=	v
DISTVERSION=	2019.10
PORTREVISION=	0
CATEGORIES=	graphics

MAINTAINER=	yuri@FreeBSD.org
COMMENT=	Lightweight, modular graphics middleware for games, data visualization

LICENSE=	MIT
LICENSE_FILE=	${WRKSRC}/COPYING

LIB_DEPENDS=	libCorradeUtility.so:devel/corrade \
		libglfw.so:graphics/glfw

USES=		cmake compiler:c++14-lang gl openal sdl xorg
USE_GITHUB=	yes
GH_ACCOUNT=	mosra
GH_TUPLE=	mosra:toolchains:a3e0aff:t/toolchains
USE_GL=		gl egl
USE_SDL=	sdl2
USE_XORG=	x11
USE_LDCONFIG=	yes

CMAKE_ARGS=	-DLIB_SUFFIX:STRING=""

CMAKE_ON=	BUILD_SHARED_LIBS \
		TARGET_GLES WITH_GL_INFO WITH_IMAGECONVERTER WITH_ANYIMAGEIMPORTER WITH_ANYAUDIOIMPORTER \
		WITH_ANYIMAGECONVERTER WITH_ANYSCENEIMPORTER WITH_WAVAUDIOIMPORTER WITH_MAGNUMFONT WITH_OBJIMPORTER \
		WITH_SHAPES WITH_SHADERS WITH_TEXT WITH_TEXTURETOOLS WITH_TRADE \
		WITH_GL WITH_PRIMITIVES WITH_EGLCONTEXT WITH_GLXAPPLICATION WITH_WINDOWLESSGLXAPPLICATION \
		WITH_GLXCONTEXT WITH_XEGLAPPLICATION WITH_GLFWAPPLICATION WITH_SDL2APPLICATION
CMAKE_OFF=	TARGET_GLES2

.include <bsd.port.mk>
